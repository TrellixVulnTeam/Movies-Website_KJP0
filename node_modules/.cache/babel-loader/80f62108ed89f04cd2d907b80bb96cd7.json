{"ast":null,"code":"var _jsxFileName = \"D:\\\\MovieApp\\\\src\\\\Components\\\\fav\\\\favorites.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport Slide from '../Slider/slider';\nimport Carousel from '../Slider/swiper';\nimport { getDetails, getManyDetails } from '../../Services/apicontroller';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { createElement as _createElement } from \"react\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction GetFavorites() {\n  var favorites = localStorage.getItem('favorites');\n\n  if (favorites === null || favorites === '') {\n    console.log(\"is\", 'vacio');\n    let data = [];\n    localStorage.setItem('favorites', JSON.stringify(data));\n    favorites = localStorage.getItem('favorites');\n  }\n\n  return favorites;\n}\n\n_c = GetFavorites;\n\nfunction AddFavorite(fav) {\n  var data = GetFavorites();\n\n  if (data.length <= 0) {\n    data = [{\n      id: fav\n    }];\n    localStorage.setItem('favorites', JSON.stringify(data));\n  } else {\n    let val = JSON.parse(data);\n    val.push({\n      id: fav\n    });\n    localStorage.setItem('favorites', JSON.stringify(val));\n  }\n}\n\n_c2 = AddFavorite;\n\nfunction RemoveFavorite(fav) {\n  var data = GetFavorites();\n  let val = JSON.parse(data);\n  let nfav = val.filter(item => item.id !== fav);\n  localStorage.setItem('favorites', JSON.stringify(nfav));\n}\n\n_c3 = RemoveFavorite;\nexport function AddFavorites({\n  id\n}) {\n  _s();\n\n  const [isfavorite, setIsfavorite] = useState(false);\n  useEffect(() => {\n    hasKey();\n  }, []);\n\n  function hasKey() {\n    var favs = JSON.parse(GetFavorites());\n    var exist = favs.filter(e => e.id === id).length > 0;\n    setIsfavorite(!exist);\n  }\n\n  function HandleAdd() {\n    AddFavorite(id);\n    setIsfavorite(isfavorite => !isfavorite);\n  }\n\n  function Handledelete() {\n    setIsfavorite(isfavorite => !isfavorite);\n    RemoveFavorite(id);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-4\",\n    children: [\" \", isfavorite ? /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"submit\",\n      value: \"Add to favorites\",\n      onClick: HandleAdd,\n      className: \"btn btn-success\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 46\n    }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"submit\",\n      value: \"Delete from favorites\",\n      onClick: Handledelete,\n      className: \"btn btn-danger\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AddFavorites, \"j+traKdyo5r2ShPsaOLpgnBRM2w=\");\n\n_c4 = AddFavorites;\nexport function ShowFavs() {\n  _s2();\n\n  const [favs, setFavs] = useState([]);\n  const [isloading, setIsloading] = useState(true);\n  const [movieDetails, setMovieDetails] = useState([]);\n  useEffect(() => {\n    setFavs(() => {\n      return [...JSON.parse(GetFavorites())];\n    });\n    setIsloading(false);\n  }, []);\n  useEffect(() => {\n    async function getDatas() {\n      const r = await getManyDetails(favs);\n      return r;\n    }\n\n    async function getdetail() {\n      const response = await getDetails(favs[0].id);\n\n      if (response.ok) {\n        const details = await response.json();\n        setMovieDetails([details]);\n      }\n    }\n\n    if (isloading === false) {\n      if (favs.length > 0) {\n        if ('id' in favs[0]) {\n          getDatas().then(response => {\n            if (response.length > 1) {\n              response.map(async movie => {\n                const result = await movie.json();\n                setMovieDetails(prevVal => [...prevVal, result]);\n              });\n            } else {\n              getdetail();\n            }\n          });\n        } else {\n          getdetail();\n        }\n      }\n    }\n  }, [favs]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"ml-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        class: \"fas fa-folder-open\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 31\n      }, this), \" My favorites\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this), movieDetails.length > 0 ? /*#__PURE__*/_jsxDEV(Carousel, {\n      loop: false,\n      children: movieDetails.length > 1 ? movieDetails.map((movie, index) => {\n        return /*#__PURE__*/_createElement(Slide, { ...movie,\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 29\n          }\n        });\n      }) : /*#__PURE__*/_jsxDEV(Slide, { ...movieDetails[0]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center h-100 \",\n      style: {\n        fontSize: \"1.4rem\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"far fa-folder-open\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this), \" You have not favorites, yet.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fas fa-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 24\n          }, this), \" Search for a movie and click on Add to favorites.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(ShowFavs, \"VIJdArE2ZPKRSDPuK8XzFjCKFB8=\");\n\n_c5 = ShowFavs;\nexport default AddFavorites;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"GetFavorites\");\n$RefreshReg$(_c2, \"AddFavorite\");\n$RefreshReg$(_c3, \"RemoveFavorite\");\n$RefreshReg$(_c4, \"AddFavorites\");\n$RefreshReg$(_c5, \"ShowFavs\");","map":{"version":3,"sources":["D:/MovieApp/src/Components/fav/favorites.jsx"],"names":["useState","useEffect","Slide","Carousel","getDetails","getManyDetails","GetFavorites","favorites","localStorage","getItem","console","log","data","setItem","JSON","stringify","AddFavorite","fav","length","id","val","parse","push","RemoveFavorite","nfav","filter","item","AddFavorites","isfavorite","setIsfavorite","hasKey","favs","exist","e","HandleAdd","Handledelete","ShowFavs","setFavs","isloading","setIsloading","movieDetails","setMovieDetails","getDatas","r","getdetail","response","ok","details","json","then","map","movie","result","prevVal","index","fontSize"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\r\nimport Slide from '../Slider/slider';\r\nimport Carousel from '../Slider/swiper'\r\nimport { getDetails, getManyDetails } from '../../Services/apicontroller'\r\n\r\nfunction GetFavorites() {\r\n    var favorites = localStorage.getItem('favorites');\r\n    if (favorites === null || favorites === '') {\r\n        console.log(\"is\", 'vacio')\r\n\r\n        let data = []\r\n        localStorage.setItem('favorites', JSON.stringify(data));\r\n        favorites = localStorage.getItem('favorites');\r\n    }\r\n    return favorites\r\n}\r\nfunction AddFavorite(fav) {\r\n    var data = GetFavorites();\r\n    if (data.length <= 0) {\r\n        data = [{ id: fav }]\r\n        localStorage.setItem('favorites', JSON.stringify(data))\r\n    } else {\r\n        let val = JSON.parse(data)\r\n        val.push({ id: fav })\r\n        localStorage.setItem('favorites', JSON.stringify(val))\r\n    }\r\n}\r\nfunction RemoveFavorite(fav) {\r\n    var data = GetFavorites();\r\n    let val = JSON.parse(data);\r\n    let nfav = val.filter(item => item.id !== fav)\r\n\r\n    localStorage.setItem('favorites', JSON.stringify(nfav))\r\n\r\n}\r\n\r\n\r\nexport function AddFavorites({ id }) {\r\n    const [isfavorite, setIsfavorite] = useState(false)\r\n    useEffect(() => { hasKey() }, [])\r\n\r\n    function hasKey() {\r\n        var favs = JSON.parse(GetFavorites())\r\n        var exist = favs.filter(e => e.id === id).length > 0\r\n        setIsfavorite(!exist)\r\n    }\r\n\r\n    function HandleAdd() {\r\n        AddFavorite(id)\r\n        setIsfavorite(isfavorite => !isfavorite)\r\n    }\r\n    function Handledelete() {\r\n        setIsfavorite(isfavorite => !isfavorite)\r\n        RemoveFavorite(id)\r\n    }\r\n\r\n    return (\r\n        <div className='mb-4'> {isfavorite ? <input type=\"submit\" value=\"Add to favorites\" onClick={HandleAdd} className=\"btn btn-success\" /> :\r\n            <input type=\"submit\" value=\"Delete from favorites\" onClick={Handledelete} className=\"btn btn-danger\" />}</div>\r\n    );\r\n\r\n}\r\n\r\nexport function ShowFavs() {\r\n    const [favs, setFavs] = useState([])\r\n    const [isloading, setIsloading] = useState(true)\r\n    const [movieDetails, setMovieDetails] = useState([])\r\n\r\n    useEffect(() => {\r\n        setFavs(() => {\r\n            return [...JSON.parse(GetFavorites())];\r\n        })\r\n        setIsloading(false);\r\n\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        async function getDatas() {\r\n            const r = await getManyDetails(favs)\r\n            return r\r\n        }\r\n        async function getdetail() {\r\n            const response = await getDetails(favs[0].id)\r\n            if (response.ok) {\r\n                const details = await response.json()\r\n                setMovieDetails([details])\r\n            }\r\n        }\r\n        if (isloading === false) {\r\n            if (favs.length > 0) {\r\n                if ('id' in favs[0]) {\r\n                    getDatas()\r\n                        .then(response => {\r\n                            if (response.length > 1) {\r\n                                response.map(async movie => {\r\n                                    const result = await movie.json()\r\n                                    setMovieDetails((prevVal) => [...prevVal, result])\r\n                                })\r\n                            }\r\n                            else {\r\n                                getdetail()\r\n                            }\r\n                        })\r\n                } else {\r\n                    getdetail()\r\n                }\r\n            }\r\n        }\r\n    }, [favs])\r\n\r\n    return (<>\r\n        <h2  className=\"ml-3\"><i class=\"fas fa-folder-open\"></i> My favorites</h2>\r\n        {movieDetails.length > 0 ?\r\n            <Carousel loop={false}>\r\n                {movieDetails.length > 1 ?\r\n                    movieDetails.map((movie, index) => {\r\n                        return (\r\n                            <Slide {...movie} key={index}></Slide>\r\n                        )\r\n                    }) :\r\n                    <Slide {...movieDetails[0]} ></Slide>\r\n                }\r\n            </Carousel> :\r\n            <div className=\"d-flex justify-content-center h-100 \" style={{ fontSize: \"1.4rem\" }}>\r\n                <div>\r\n                    <p ><i class=\"far fa-folder-open\"></i> You have not favorites, yet.</p>\r\n                    <p><i class=\"fas fa-search\"></i> Search for a movie and click on Add to favorites.</p></div></div>\r\n        }\r\n\r\n    </>\r\n    )\r\n\r\n\r\n\r\n}\r\n\r\n\r\nexport default AddFavorites;"]},"metadata":{},"sourceType":"module"}